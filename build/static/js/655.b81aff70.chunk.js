"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[655],{50581:(e,s,t)=>{t.d(s,{WA:()=>r});var a=t(65629),o=t(3680);const r=e=>s=>{o.A.get("/asset-class/get-all",{signal:e,headers:{"Content-Type":"application/json"}}).then((e=>{s({type:a.pM,payload:e.data.data})})).catch((e=>{console.log("error",e)}))}},12655:(e,s,t)=>{t.r(s),t.d(s,{default:()=>M});var a=t(96032),o=t(48089),r=t(9950),l=t(18437),n=t(84142),i=t(82053),c=t(16491),d=t(45259),x=t(65059),h=t(44290),u=t(83239),p=t(25333),A=t(19808),f=t(33306),g=t(47435),m=t(60899),b=t(69267),j=t(809),S=t(91285),C=t(54957),y=t(87426),I=t(72578),v=t(29606),w=t(32203),k=t(90008),z=t(45452),D=t(50581),N=t(36853),W=t(82569),O=t(85923),E=t(44414);const R=e=>{let{onRowClick:s}=e;const t=(0,W.wA)(),[a,o]=(0,r.useState)(null),[l,n]=r.useState("Choose Asset Class"),[i,c]=r.useState(null),R=(0,r.useRef)(!1),P=(0,r.useRef)(""),[L,T]=(0,r.useState)(),[F,_]=(0,r.useState)(10),[B,M]=(0,r.useState)(!1),G=(0,W.d4)((e=>e.AssetData&&e.AssetData.AssetStockAndScrap)),X=(0,W.d4)((e=>e.AssetData&&e.AssetData.AssetStockAndScrap&&e.AssetData.AssetStockAndScrap.assetsCount)),U=(0,W.d4)((e=>e.AssetClassData&&e.AssetClassData.AssetClassData)),[V,q]=(0,r.useState)({latitude:null,longitude:null}),{ONLINE:J,OFFLINE:K}=I.Kc,H=async(e,s)=>{M(!0);try{const a=(new AbortController).signal,o=e-1;await t((0,z.TX)("Stock",l,null,i,o,s,R.current,P.current,a))}catch(a){M(!1),console.error("Error fetching data:",a)}finally{M(!1)}},Q=[{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Picture "}),dataIndex:"picture",key:"picture",render:(e,s)=>s.pictureWithPath?(0,E.jsx)(d.A,{size:"middle",children:(0,E.jsx)("img",{src:s.pictureWithPath,alt:"Previous",style:{width:"30px",height:"27px"}})}):(0,E.jsx)(d.A,{size:"middle",children:(0,E.jsx)("img",{src:w,alt:w,style:{width:"30px",height:"27px"}})})},{dataIndex:"assetId",key:"assetId",title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Id"}),sorter:{compare:(e,s)=>e.assetId.localeCompare(s.assetId),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{dataIndex:"childId",key:"childId",title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Child Id"}),sorter:{compare:(e,s)=>e.childId.localeCompare(s.childId),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Class"}),dataIndex:"assetClass",key:"assetClass",sorter:{compare:(e,s)=>e.assetClass.localeCompare(s.assetClass),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Description"}),dataIndex:"description",key:"description",sorter:{compare:(e,s)=>e.description.localeCompare(s.description),multiple:1},render:(e,s)=>(0,E.jsx)(x.A,{content:s.description,title:"Asset Description",trigger:s.description.length>10?"hover":"",children:s.description.length>10?"".concat(s.description.slice(0,10),"..."):s.description}),sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Useful Life"}),key:"usefulLife",dataIndex:"usefulLife",sorter:{compare:(e,s)=>e.usefulLife.localeCompare(s.usefulLife),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Life Time"}),dataIndex:"assetLifetime",key:"assetLifetime",sorter:{compare:(e,s)=>e.assetLifetime.localeCompare(s.assetLifetime),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Cost Of Asset"}),dataIndex:"costOfAsset",key:"costOfAsset",sorter:{compare:(e,s)=>e.costOfAsset.localeCompare(s.costOfAsset),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Status"}),dataIndex:"assetStatus",key:"assetStatus",render:(e,s)=>{let t="";switch(s.assetStatus){case K:t="table-value-badge-warning";break;case J:t="table-value-badge-success";break;default:t="table-value-badge"}return(0,E.jsx)("span",{className:t,children:s.assetStatus})},sorter:{compare:(e,s)=>e.assetStatus.localeCompare(s.assetStatus),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Action"}),key:"action",render:()=>(0,E.jsx)(d.A,{children:(0,E.jsx)(m.Ay,{item:!0,sx:{color:"#A5A1A1",fontSize:"10px"},children:(0,E.jsx)(b.A,{sx:{fontSize:"16px"}})})})}],Y=e=>{o(e),s()};r.useEffect((()=>{const e=(new AbortController).signal,s=(new AbortController).signal;H(L,F),t((0,D.WA)(e)),t((0,N.qJ)(s)),"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{q({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(e=>{e.code===e.PERMISSION_DENIED?O.oR.error("Please give access for location."):console.error("Error getting geolocation:",e.message)})):console.log("Geolocation is not available in your browser.")}),[t,L,F]);const Z=(null===G||void 0===G?void 0:G.assets)||[];return(0,E.jsx)(E.Fragment,{children:a?(0,E.jsx)(k.A,{onRowClick:Y,selectedData:a,positionGeo:V,selectedCategory:l,selectedAssetType:i,table:"Stock",pageNo:L}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(A.A,{maxWidth:"xl",sx:{height:"100%",width:"100%",bgcolor:"#fff",mt:.5,border:"none",mr:0},children:(0,E.jsx)(u.A,{disableGutters:!0,sx:{height:"50%"},children:(0,E.jsxs)(m.Ay,{item:!0,container:!0,spacing:2,columns:16,children:[(0,E.jsx)(m.Ay,{item:!0,lg:3,sm:5,children:(0,E.jsx)(f.A,{name:"asset",type:"text",className:"search-input-bg",placeholder:"search ",sx:{border:"none"},InputProps:{style:{width:"100%",height:"33px",color:"#C7C7C7",bgcolor:"#FBFBFB"},startAdornment:(0,E.jsx)(p.A,{"aria-label":"Toggle password visibility",edge:"start",children:(0,E.jsx)(g.A,{sx:{color:"#C7C7C7",fontSize:"18px",fontWeight:"700"}})})},value:P.current,onChange:e=>{P.current=e.target.value,""!=e.target.value?R.current=!0:R.current=!1,T(1),H(1,F)}})}),(0,E.jsx)(m.Ay,{item:!0,lg:2,sm:4,sx:{ml:1},className:"select-ant-cus",children:(0,E.jsx)(v.A,{defaultValue:"Asset Class",style:{width:"100%",height:"33px"},showSearch:!0,onChange:async e=>{const s=(new AbortController).signal;c(i),n(e),t((0,S.U)(e)),M(!0),T(1);try{await t((0,z.TX)("Stock",e,null,i,1,F,R.current,P.current,s))}catch(a){M(!1),console.error("Error fetching data:",a)}finally{M(!1)}},options:[{value:"Choose Asset Class",label:"Asset Class"},...U.map((e=>({value:e.assetClass,label:e.assetClass})))]})}),(0,E.jsx)(m.Ay,{item:!0,lg:2,sm:4,sx:{ml:1},className:"select-ant-cus",children:(0,E.jsx)(v.A,{defaultValue:"Asset Status",style:{width:"100%",height:"33px"},showSearch:!0,onChange:async e=>{c(e);try{const s=(new AbortController).signal;T(1),await t((0,z.TX)("Stock",l,null,e,1,F,R.current,P.current,s))}catch(s){M(!1),console.error("Error fetching data:",s)}finally{M(!1)}},options:[{value:null,label:"Asset Status"},...[{value:"Online",label:"Online"},{value:"Offline",label:"Offline"},{value:"Maintenance",label:"Maintenance"}].map((e=>({value:e.value,label:e.label})))]})}),(0,E.jsx)(m.Ay,{item:!0,lg:6,sm:4})]})})}),(0,E.jsx)(h.A,{className:"table-hd",columns:Q,dataSource:Z,pagination:!1,loading:B,showSorterTooltip:!1,onRow:e=>({onClick:()=>Y(e)})}),(0,E.jsx)("div",{className:"align-center-data",children:(0,E.jsx)(j.A,{defaultCurrent:L,current:L,total:X,pageSize:F,onChange:(e,s)=>{T(e),_(s),H(e,s)},hideOnSinglePage:!0})})]})})};var P=t(44739),L=t(10226);const T=e=>{let{onRowClick:s}=e;const t=(0,W.wA)(),[a,o]=(0,r.useState)(null),[l,n]=r.useState("Choose Asset Class"),[i,c]=(0,r.useState)(),[b,I]=(0,r.useState)(10),[N,R]=(0,r.useState)(!1),T=(0,r.useRef)(!1),F=(0,r.useRef)(""),_=(0,W.d4)((e=>e.AssetData&&e.AssetData.AssetScrapStock)),B=(0,W.d4)((e=>e.AssetData&&e.AssetData.AssetScrapStock&&e.AssetData.AssetScrapStock.assetsCount)),M=(0,W.d4)((e=>e.AssetClassData&&e.AssetClassData.AssetClassData)),[G,X]=(0,r.useState)({latitude:null,longitude:null}),U=async(e,s)=>{R(!0);try{const a=(new AbortController).signal,o=e-1;await t((0,z.TX)("Disposed",l,null,null,o,s,T.current,F.current,a))}catch(a){R(!1),console.error("Error fetching data:",a)}finally{R(!1)}},V=[{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Picture "}),dataIndex:"picture",key:"picture",render:(e,s)=>s.pictureWithPath?(0,E.jsx)(d.A,{size:"middle",children:(0,E.jsx)("img",{src:s.pictureWithPath,alt:"Previous",style:{width:"30px",height:"27px"}})}):(0,E.jsx)(d.A,{size:"middle",children:(0,E.jsx)("img",{src:w,alt:w,style:{width:"30px",height:"27px"}})})},{dataIndex:"assetId",key:"assetId",title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Id"}),sorter:{compare:(e,s)=>e.assetId.localeCompare(s.assetId),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{dataIndex:"childId",key:"childId",title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Child Id"}),sorter:{compare:(e,s)=>e.childId.localeCompare(s.childId),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Class"}),dataIndex:"assetClass",key:"assetClass",sorter:{compare:(e,s)=>e.assetClass.localeCompare(s.assetClass),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Description"}),dataIndex:"description",key:"description",sorter:{compare:(e,s)=>e.description.localeCompare(s.description),multiple:1},render:(e,s)=>(0,E.jsx)(x.A,{content:s.description,title:"Asset Description",trigger:s.description.length>10?"hover":"",children:s.description.length>10?"".concat(s.description.slice(0,10),"..."):s.description}),sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Status"}),dataIndex:"assetStatus",key:"assetStatus",render:(e,s)=>(0,E.jsx)(L.A,{className:"btn-status-rejected",color:"error",children:s.assetStatus}),sorter:{compare:(e,s)=>e.assetStatus.localeCompare(s.assetStatus),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Asset Life Time"}),dataIndex:"assetLifetime",key:"assetLifetime",sorter:{compare:(e,s)=>e.assetId.localeCompare(s.assetId),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Cost Of Asset"}),dataIndex:"costOfAsset",key:"costOfAsset",sorter:{compare:(e,s)=>e.costOfAsset.localeCompare(s.costOfAsset),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,E.jsx)(y.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,E.jsx)(C.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,E.jsx)("span",{className:"table-hd-fs",children:"Action"}),key:"action",render:()=>(0,E.jsx)(d.A,{children:(0,E.jsx)(m.Ay,{item:!0,sx:{color:"#A5A1A1",fontSize:"10px"},children:(0,E.jsx)(P.A,{sx:{fontSize:"16px"}})})})}],q=e=>{o(e),s()};r.useEffect((()=>{const e=(new AbortController).signal;t((0,D.WA)(e)),"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{X({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(e=>{e.code===e.PERMISSION_DENIED?O.oR.error("Please give access for location."):console.error("Error getting geolocation:",e.message)})):console.log("Geolocation is not available in your browser."),U(i,b)}),[t]);const J=(null===_||void 0===_?void 0:_.assets)||[];return(0,E.jsx)(E.Fragment,{children:a?(0,E.jsx)(k.A,{onRowClick:q,selectedData:a,positionGeo:G,selectedCategory:l,selectedAssetType:null,table:"Disposed",pageNo:i}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(A.A,{maxWidth:"xl",sx:{height:"100%",width:"100%",bgcolor:"#fff",mt:.5,border:"none",mr:0},children:(0,E.jsx)(u.A,{disableGutters:!0,sx:{height:"50%"},children:(0,E.jsxs)(m.Ay,{item:!0,container:!0,spacing:2,columns:16,children:[(0,E.jsx)(m.Ay,{item:!0,lg:3,sm:5,children:(0,E.jsx)(f.A,{name:"asset",type:"text",placeholder:"search ",className:"search-input-bg",sx:{border:"none"},InputProps:{style:{width:"100%",height:"33px",color:"#C7C7C7",bgcolor:"#FBFBFB"},startAdornment:(0,E.jsx)(p.A,{"aria-label":"Toggle password visibility",edge:"start",children:(0,E.jsx)(g.A,{sx:{color:"#C7C7C7",fontSize:"18px",fontWeight:"700"}})})},value:F.current,onChange:e=>{F.current=e.target.value,""!=e.target.value?T.current=!0:T.current=!1,U(i,b)}})}),(0,E.jsx)(m.Ay,{item:!0,lg:2,sm:4,sx:{ml:1},className:"select-ant-cus",children:(0,E.jsx)(v.A,{defaultValue:"Asset Class",style:{width:"100%",height:"33px"},showSearch:!0,onChange:async e=>{n(e),t((0,S.U)(e)),R(!0);try{const s=(new AbortController).signal;await t((0,z.TX)("Disposed",e,null,null,i,b,T.current,F.current,s))}catch(s){R(!1),console.error("Error fetching data:",s)}finally{R(!1)}},options:[{value:"Choose Asset Class",label:"Asset Class"},...M.map((e=>({value:e.assetClass,label:e.assetClass})))]})}),(0,E.jsx)(m.Ay,{item:!0,lg:2,sm:4,className:"select-ant-cus"})]})})}),(0,E.jsx)(h.A,{className:"table-hd",columns:V,dataSource:J,pagination:!1,loading:N,showSorterTooltip:!1,onRow:e=>({onClick:()=>q(e)})}),(0,E.jsx)("div",{className:"align-center-data",children:(0,E.jsx)(j.A,{defaultCurrent:i,total:B,pageSize:b,onChange:(e,s)=>{c(e),I(s),U(e,s)},hideOnSinglePage:!0})})]})})};function F(e){const{children:s,value:t,index:a,...o}=e;return(0,E.jsx)("div",{role:"tabpanel",hidden:t!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a),...o,children:t===a&&(0,E.jsx)(i.A,{children:s})})}function _(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function B(){const[e,s]=r.useState(0),[t,a]=r.useState(!1),o=()=>{a(!t)};return(0,E.jsxs)(c.A,{sx:{width:"100%"},children:[!t&&(0,E.jsx)(c.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,E.jsxs)(l.A,{value:e,onChange:(e,t)=>{s(t)},"aria-label":"basic tabs example",className:"tab-ind-sty",children:[(0,E.jsx)(n.A,{sx:{fontSize:"12px",color:"#919EAB"},label:"Stock",..._(0)}),(0,E.jsx)(n.A,{sx:{fontSize:"12px",color:"#919EAB"},label:"Scrap",..._(1)})]})}),(0,E.jsx)(F,{value:e,index:0,sx:{width:"0px"},children:(0,E.jsx)(R,{onRowClick:o})}),(0,E.jsx)(F,{value:e,index:1,children:(0,E.jsx)(T,{onRowClick:o})})]})}const M=()=>(0,E.jsx)(a.A,{children:(0,E.jsx)(o.A,{sx:{height:"100%",width:"100%",overflow:"auto",boxShadow:"none",borderRadius:"10px"},children:(0,E.jsx)(B,{})})})},44739:(e,s,t)=>{var a=t(24994);s.A=void 0;var o=a(t(79526)),r=t(44414);s.A=(0,o.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEye")}}]);
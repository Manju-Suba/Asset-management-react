"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[834],{855:(e,s,r)=>{r.d(s,{A:()=>a});var t=r(25371),n=r(44414);function a(e){let{children:s,type:r}=e;return(0,n.jsx)(t.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:s})}a.defaultProps={type:"scale"}},59867:(e,s,r)=>{r.d(s,{Jg:()=>i,LM:()=>a,gN:()=>n});var t=r(3680);const n=e=>async()=>{try{return await t.A.get("/auth/fetch-by-mail?email=".concat(e.email),{headers:{"Content-Type":"application/json"}})}catch(s){throw console.error("Error during login:",s),s}},a=e=>async()=>{try{return await t.A.put("/auth/reset-password",e,{headers:{"Content-Type":"application/json"}})}catch(s){throw console.error("Error during reset the password:",s),s}},i=e=>async()=>{try{return await t.A.get("/auth/check-by-mail?email=".concat(e),{},{headers:{"Content-Type":"application/json"}})}catch(s){throw console.error("Error during validate the link:",s),s}}},52834:(e,s,r)=>{r.r(s),r.d(s,{ResetPassword:()=>C,default:()=>E});var t=r(9950),n=r(28656),a=r(16491),i=r(60899),o=r(82053),l=r(93230),d=r(3788),c=r(3198),h=r(2046),p=r(25333),u=r(24516),m=r(25979),x=r(10226),g=r(60666),w=r(43939),j=r(3734),A=r(855),y=r(54021),f=r(79942),b=r(28429),v=r(85923),P=r(82569),S=r(59867),k=r(44414);const C=()=>{let e,{token:s}=(0,b.g)();if(""===s)e="";else{let r=atob(s);e=atob(r)}const r=(0,P.wA)(),[C,E]=(0,t.useState)(),[R,_]=(0,t.useState)(""),[T,W]=(0,t.useState)(""),[z,B]=(0,t.useState)(""),[F,L]=(0,t.useState)(!1),[N,q]=(0,t.useState)(!1),[I,M]=(0,t.useState)(!1),{linkId:D}=(0,b.g)(),[H,J]=(0,t.useState)(!0),[V,Y]=(0,t.useState)(""),G=()=>{L(!F)},O=()=>{q(!N)},U=e=>{e.preventDefault()},Z=e=>{const s=e.length;M(s>0);const r=(0,j.x)(e);E((0,j.t)(r)),_(e)};return(0,t.useEffect)((()=>{Z(""),r((0,S.Jg)(e)).then((e=>{"Active"==e.data.activeStatus?J(!0):(J(!1),Y(e.data.activeStatus))})).catch((e=>{console.error("Error validating link:",e.message),J(!1)}))}),[D]),H?(0,k.jsx)(a.A,{children:H?(0,k.jsx)(i.Ay,{spacing:3,columns:12,xs:12,sm:12,md:12,lg:12,children:(0,k.jsxs)("div",{className:"login-right",children:[(0,k.jsx)(i.Ay,{children:(0,k.jsx)("img",{src:n,alt:"hepl-logo",style:{width:"95px",display:"flex",margin:"auto",justifyContent:"center"}})}),(0,k.jsx)(i.Ay,{sx:{mt:4},children:(0,k.jsx)(o.A,{sx:{fontWeight:"700",color:"#454F5B",fontSize:{lg:"20px",md:"20px",sm:"20px"},margin:"auto",textAlign:"center",fontFamily:"Open Sans"},children:(0,k.jsx)("h3",{style:{fontWeight:700},children:"Set New Password"})})}),(0,k.jsx)(w.l1,{initialValues:{password:"",confirmPassword:""},validationSchema:g.Ik().shape({password:g.Yj().max(255).required("Password is required"),confirmPassword:g.Yj().max(255).required("Confirm Password is required")}),onSubmit:async(s,t)=>{let{setErrors:n,setStatus:a,setSubmitting:i,resetForm:o}=t;s.password===s.confirmPassword&&(s.email=e,r((0,S.LM)(s)).then((e=>{"201"==e.status&&v.oR.success(e.data.message),a({success:!1}),i(!1),M(!1),o(),Z("");const s=setTimeout((()=>{J(!1)}),5e4);return()=>clearTimeout(s)})).catch((e=>{v.oR.error("Invalid credential",e),a({success:!1}),n({submit:e}),i(!1),v.oR.error(e)})))},children:e=>{let{errors:s,handleBlur:r,handleChange:t,handleSubmit:n,isSubmitting:g,touched:w,values:j}=e;return(0,k.jsxs)("form",{noValidate:!0,onSubmit:n,children:[(0,k.jsx)(i.Ay,{item:!0,container:!0,spacing:3,style:{justifyContent:"center"},children:(0,k.jsxs)(i.Ay,{item:!0,xs:12,sm:3,children:[(0,k.jsxs)(l.A,{spacing:1,children:[(0,k.jsx)(d.A,{htmlFor:"password-signup",children:"New Password"}),(0,k.jsx)(c.A,{fullWidth:!0,error:Boolean(w.password&&s.password),id:"password-signup",type:F?"text":"password",value:j.password,name:"password",onBlur:r,onChange:e=>{t(e),Z(e.target.value)},endAdornment:(0,k.jsx)(h.A,{position:"end",children:(0,k.jsx)(p.A,{"aria-label":"toggle password visibility",onClick:G,onMouseDown:U,edge:"end",size:"large",children:F?(0,k.jsx)(y.A,{}):(0,k.jsx)(f.A,{})})}),placeholder:"******",inputProps:{}}),w.password&&s.password&&(0,k.jsx)(u.A,{error:!0,id:"helper-text-password-signup",children:s.password})]}),I?(0,k.jsx)(m.A,{fullWidth:!0,sx:{mt:2},children:(0,k.jsxs)(i.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,k.jsx)(i.Ay,{item:!0,children:(0,k.jsx)(a.A,{sx:{bgcolor:null===C||void 0===C?void 0:C.color,width:85,height:8,borderRadius:"7px"}})}),(0,k.jsx)(i.Ay,{item:!0,children:(0,k.jsx)(o.A,{variant:"subtitle1",fontSize:"0.75rem",children:null===C||void 0===C?void 0:C.label})})]})}):""]})}),(0,k.jsx)(i.Ay,{item:!0,container:!0,spacing:3,style:{justifyContent:"center",marginTop:"2px"},children:(0,k.jsx)(i.Ay,{item:!0,xs:12,sm:3,children:(0,k.jsxs)(l.A,{spacing:1,children:[(0,k.jsx)(d.A,{htmlFor:"password-signup",children:"Confirm Password"}),(0,k.jsx)(c.A,{fullWidth:!0,error:Boolean(w.confirmPassword&&s.confirmPassword||T&&!z),id:"confirmPassword",type:N?"text":"password",value:j.confirmPassword,name:"confirmPassword",onBlur:r,onChange:e=>{var s;t(e),s=e.target.value,R!==s&&""!=s?(W(!0),B(!0)):(W(!1),B(!1))},endAdornment:(0,k.jsx)(h.A,{position:"end",children:(0,k.jsx)(p.A,{"aria-label":"toggle password visibility",onClick:O,onMouseDown:U,edge:"end",size:"large",children:N?(0,k.jsx)(y.A,{}):(0,k.jsx)(f.A,{})})}),placeholder:"******",inputProps:{}}),w.confirmPassword&&s.confirmPassword&&(0,k.jsx)(u.A,{error:!0,id:"helper-text-password-signup",children:s.confirmPassword}),T&&z&&(0,k.jsx)(u.A,{error:!0,id:"helper-text-password-mismatch",children:"Confirm password does not match the new password."})]})})}),(0,k.jsx)(i.Ay,{item:!0,container:!0,spacing:3,style:{justifyContent:"center",marginTop:"2px"},children:(0,k.jsxs)(i.Ay,{item:!0,xs:12,sm:3,md:3,children:[s.submit&&(0,k.jsx)(i.Ay,{item:!0,xs:12,children:(0,k.jsx)(u.A,{error:!0,children:s.submit})}),(0,k.jsx)(l.A,{spacing:1,children:(0,k.jsx)(A.A,{children:(0,k.jsx)(x.A,{disableElevation:!0,disabled:g,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Reset Password"})})})]})})]})}})]})}):"Expired"===V?(0,k.jsx)("h1",{children:"Link is not valid!"}):"Updated"===V?(0,k.jsx)("h1",{children:"Link has been updated!"}):(0,k.jsx)("h1",{children:"Link is not valid!"})}):(0,k.jsx)(b.C5,{to:"/page-not-found"})},E=C},3734:(e,s,r)=>{r.d(s,{t:()=>t,x:()=>n});const t=e=>e<2?{label:"Poor",color:"error.main"}:e<3?{label:"Weak",color:"warning.main"}:e<4?{label:"Normal",color:"warning.dark"}:e<5?{label:"Good",color:"success.main"}:e<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"},n=e=>{let s=0;return e.length>5&&(s+=1),e.length>7&&(s+=1),(e=>new RegExp(/[0-9]/).test(e))(e)&&(s+=1),(e=>new RegExp(/[!#@$%^&*)(+=._-]/).test(e))(e)&&(s+=1),(e=>new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e))(e)&&(s+=1),s}},28656:(e,s,r)=>{e.exports=r.p+"static/media/Hepl logo.8ae340ee3d10ce986bc0.png"}}]);
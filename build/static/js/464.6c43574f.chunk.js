"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[464],{96965:(e,t,a)=>{a.d(t,{IN:()=>g,K8:()=>o,KR:()=>i,Kf:()=>A,NZ:()=>r,Pn:()=>l,bA:()=>y,dN:()=>d,eS:()=>h,en:()=>c,jW:()=>u,rY:()=>x,zf:()=>p});var s=a(65629),n=a(3680);const i=(e,t)=>async()=>{if(!e)throw new Error("Invalid Data");if(!t)throw new Error("Invalid Audit Date");try{return await n.A.post("/audit/save-audit-date?assetId=".concat(e,"&auditDate=").concat(t),{},{headers:{"Content-Type":"multipart/form-data"}})}catch(a){throw console.error("Error while saving audit date:",a),a}},o=e=>async()=>await n.A.post("/audit/action-create",e,{headers:{"Content-Type":"multipart/form-data"}}),l=(e,t,a,i,o,l)=>d=>{let c;c=e||0;let r="/audit/pending-audit-asset?page=".concat(c,"&size=").concat(t,"&search=").concat(a,"&value=").concat(i);"Choose Asset Class"!=o&&void 0!=o&&(r+="&assetClass=".concat(o)),l&&(r+="&assetTypeId=".concat(l)),n.A.get(r,{headers:{"Content-Type":"application/json"}}).then((e=>{d({type:s.QF,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},d=(e,t,a,i,o,l,d)=>c=>{let r;r=e||0;let p="/audit/audit-fetch-pending?page=".concat(r,"&size=").concat(t,"&search=").concat(o,"&value=").concat(l);"Choose Asset Category"!=a&&void 0!=a&&"Choose Asset Class"!=a&&(p+="&assetClass=".concat(a)),i&&(p+="&assetTypeId=".concat(i)),n.A.get(p,{signal:d,headers:{"Content-Type":"application/json"}}).then((e=>{c({type:s.GE,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},c=(e,t,a,i,o)=>l=>{let d;d=e||0;let c="/audit/request-audit-asset?page=".concat(d,"&size=").concat(t,"&search=").concat(a,"&value=").concat(i);"Choose Asset Class"!=o&&void 0!=o&&(c+="&assetClass=".concat(o)),n.A.get(c,{headers:{"Content-Type":"application/json"}}).then((e=>{l({type:s.ck,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},r=(e,t,a,i,o,l,d)=>c=>{let r,p="/audit/asset-audit-by-status?page=".concat(e||0,"&size=").concat(t,"&search=").concat(a,"&value=").concat(i,"&status=").concat(o);l&&"Choose Asset Category"!==l&&void 0!==l&&(p+="&assetClass=".concat(l)),r="Approved"==o?s.nQ:s.pd,n.A.get(p,{signal:d,headers:{"Content-Type":"application/json"}}).then((e=>{c({type:r,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},p=(e,t,a,i,o)=>l=>{let d;d=e||0;let c="/audit/completed-assets?page=".concat(d,"&size=").concat(t,"&search=").concat(a,"&value=").concat(i);o&&"Choose Asset Class"!=o&&void 0!=o&&(c+="&assetClass=".concat(o)),n.A.get(c,{headers:{"Content-Type":"application/json"}}).then((e=>{l({type:s.oC,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},h=e=>t=>{n.A.get("/audit/get-all-audit-data-by-assetid?assetId=".concat(e),{headers:{"Content-Type":"application/json"}}).then((e=>{t({type:s.aj,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},g=e=>t=>{let a="/check-list/get-by-AssetClass?assetClass=".concat(e);n.A.get(a,{headers:{"Content-Type":"application/json"}}).then((e=>{t({type:s.Fk,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},y=(e,t,a,i,o,l)=>d=>{let c="/observation/getList?page=".concat(e||0,"&size=").concat(t,"&search=").concat(a,"&value=").concat(i);o&&"Choose Asset Category"!==o&&void 0!==o&&(c+="&assetClass=".concat(o)),n.A.get(c,{signal:l,headers:{"Content-Type":"application/json"}}).then((e=>{d({type:s.FD,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},x=e=>async()=>await n.A.post("/observation/create",e,{headers:{"Content-Type":"application/json"}}),u=(e,t,a)=>i=>{let o="/auth/get-by-AssetClass?assetClass=".concat(e,"&plant=").concat(t,"&companyId=").concat(a);n.A.get(o,{headers:{"Content-Type":"application/json"}}).then((e=>{i({type:s.Jw,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},A=(e,t,a)=>i=>{let o="/auth/get-childId-by-AssetId?assetId=".concat(e,"&plant=").concat(t,"&companyId=").concat(a);n.A.get(o,{headers:{"Content-Type":"application/json"}}).then((e=>{i({type:s.YA,payload:e.data.data})})).catch((e=>{console.log("error",e)}))}},45452:(e,t,a)=>{a.d(t,{D9:()=>o,Ey:()=>p,Gs:()=>r,N$:()=>c,TX:()=>i,Xh:()=>d,fO:()=>l});var s=a(65629),n=a(3680);const i=(e,t,a,i,o,l,d,c,r)=>p=>{let h;h=o||0;let g,y="/asset/get-all-assets?page=".concat(h,"&size=").concat(l,"&availableStatus=").concat(e,"&search=").concat(d,"&value=").concat(c);t&&"Choose Asset Class"!=t&&void 0!=t&&(y+="&assetClass=".concat(t)),a&&"Choose SubClass"!=a&&(y+="&subClass=".concat(a)),i&&(y+="&assetStatus=".concat(i)),g="Stock"==e?s.dX:s.hV,n.A.get(y,{signal:r,headers:{"Content-Type":"application/json"}}).then((e=>{p({type:g,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},o=e=>async()=>{let t="/asset/get-by-assetId?assetId=".concat(e);return await n.A.get(t,{headers:{"Content-Type":"application/json"}})},l=e=>async()=>await n.A.put("/asset/update",e,{headers:{"Content-Type":"multipart/form-data"}}),d=(e,t,a)=>async i=>{await n.A.get("/asset/get-by-id?id=".concat(e,"&company=").concat(t,"&plant=").concat(a),{headers:{"Content-Type":"application/json"}}).then((e=>{i({type:s.xe,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},c=(e,t,a,i)=>async o=>{await n.A.get("/asset/get-by-assetId-audit?assetId=".concat(e,"&company=").concat(t,"&plant=").concat(a,"&assetClass=").concat(i),{headers:{"Content-Type":"application/json"}}).then((e=>{o({type:s.ly,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},r=()=>e=>{n.A.get("/asset/fetch-not-replaced",{headers:{"Content-Type":"application/json"}}).then((t=>{e({type:s.rE,payload:t.data.data})})).catch((e=>{console.log("error",e)}))},p=(e,t,a,i,o,l)=>d=>{let c;c=i||0;let r="/maintenance/fetch-by-assetId?assetId=".concat(e,"&page=").concat(c,"&size=").concat(o);t&&null!=t&&void 0!=t&&a&&null!=a&&void 0!=a&&(r+="&fromDate=".concat(t,"&toDate=").concat(a)),n.A.get(r,{signal:l,headers:{"Content-Type":"application/json"}}).then((e=>{d({type:s.w3,payload:e.data.data})})).catch((e=>{console.log("error",e)}))}},63464:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var s,n,i,o=a(57528),l=a(9950),d=a(60899),c=a(718),r=a(52378),p=a(79771),h=a(47972),g=a(35398),y=a(45259),x=a(52160),u=a(35621),A=a(86276),m=(a(47705),a(45452)),f=a(96965),j=a(82569),C=a(17288),b=a(59051),v=a.n(b),k=a(97325),I=a(44414);const{Header:w,Content:T,Footer:D}=c.A,{useBreakpoint:R}=r.Ay,L=e=>{let{assetId:t,company:a,plant:r,assetClass:b}=e;const L=R(),{token:{colorBgContainer:N,borderRadiusLG:Y}}=p.A.useToken(),z=(0,j.wA)();(0,l.useEffect)((()=>{_(),z((0,m.N$)(t,a,r,b)),z((0,f.jW)(b,r,a)),z((0,f.Kf)(t,r,a))}),[z]);const B=(0,j.d4)((e=>e.AssetData.AssetDetailsAudit)),E=(0,j.d4)((e=>e.AssetAuditData&&e.AssetAuditData.CheckListAudit)),S=(0,j.d4)((e=>e.AssetAuditData&&e.AssetAuditData.ChildIdAudit)),M=E.checkList,O=B.assetAgeingTo?v()(B.assetAgeingTo).format("DD-MM-YYYY"):"",P=B.assetAgeingFrom?v()(B.assetAgeingFrom).format("DD-MM-YYYY"):"",F=(0,l.useRef)(),_=()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{const t=e.coords.latitude,a=e.coords.longitude;F.current="".concat(t,"/").concat(a)}),(e=>{e.code===e.PERMISSION_DENIED?toast.error("Please give access for location."):console.error("Error getting geolocation:",e)})):console.log("Geolocation is not available in your browser.")},K=[{title:"Previous Longitude & Latitude",key:B.latitudeAndLongitude?B.latitudeAndLongitude:null},{title:"Current Longitude & Latitude",key:F.current},{title:"Asset ID",key:B.assetId},{title:"Cost Class wise",key:B.costClassWise},{title:"Asset class",key:B.assetClass},{title:"Plant",key:B.plant},{title:"Serial No",key:B.serialNumber},{title:"Status",key:B.assetStatus},{title:"Asset Ageing",key:B.assetAgeingFrom?P+"-"+O:null},{title:"Asset Lifetime",key:B.assetLifetime},{title:"Requires Attention",key:B.requiresAttention},{title:"UP/Downtime",key:B.upOrDowntime},{title:"Warranty Status",key:B.warrantyStatus},{title:"No of Routines Executed",key:B.noOfRoutinesExecuted},{title:"Cost of Asset",key:B.costOfAsset},{title:"Estimated Salvage Value",key:B.estimatedSalvageValue},{title:"Useful Life",key:B.usefulLife},{title:"Net Profit or Benefit",key:B.netProfitOrBenefit}],G=[{title:"Cost of Inverstment",key:B.costOfInvestment},{title:"Total Benefit",key:B.totalBenefit},{title:"Total Cost",key:B.totalCost},{title:"Revenue Generated",key:B.revenueGenerated},{title:"Begining Total Asset",key:B.beginningTotalAsset},{title:"Ending Total Asset",key:B.endingTotalAsset},{title:"Net Income",key:B.netIncome},{title:"Depreciation",key:(Number(B.costOfAsset)-Number(B.estimatedSalvageValue))/Number(B.usefulLife)},{title:"Return of Investment",key:B.returnOfInvestment},{title:"Net Benefit",key:B.netBenefit},{title:"Asset Utilization",key:B.assetUtilization},{title:"Average Total Asset",key:(Number(B.beginningTotalAsset)+Number(B.endingTotalAsset))/2},{title:"Return Of Asset",key:B.returnOfAsset},{title:"Expired Date",key:B.expiryDate?v()(B.expiryDate).format("DD-MM-YYYY"):""},{title:"Asset Description",key:B.description},{title:"Cost Center",key:B.costCenter},{title:"Capitalization Date",key:B.capitalizationDate?v()(B.capitalizationDate).format("DD-MM-YYYY"):""},{title:"Asset Retirement Date",key:B.assetRetirementDate?v()(B.assetRetirementDate).format("DD-MM-YYYY"):""}],H=k.Ay.div(s||(s=(0,o.A)(["\n\t\tdisplay: flex;\n\t\tflex-wrap: ",";\n\t\tgap: ",";\n\t"])),(e=>{let{wrap:t}=e;return t||"nowrap"}),(e=>{let{gap:t}=e;return t||"0"})),W=k.Ay.div(n||(n=(0,o.A)(["\n\t\tbackground: ",";\n\t\tborder-radius: ",";\n\t"])),(e=>e.theme.colorBgContainer||"#fff"),(e=>e.theme.borderRadiusLG||"8px")),Q=k.Ay.div(i||(i=(0,o.A)(["\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\twidth: 100%;\n\t"])));return(0,I.jsx)(I.Fragment,{children:B?(0,I.jsxs)(c.A,{children:[(0,I.jsx)(w,{style:{color:"rgba(0, 0, 0, 0.88)",background:"#ffffff",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center"},children:(0,I.jsx)("h3",{children:"Asset QR Code Scan Details"})}),"",(0,I.jsx)(T,{style:{padding:"0 48px",paddingTop:"48px"},children:(0,I.jsx)(W,{children:(0,I.jsxs)("div",{style:{padding:24,minHeight:380,background:N,borderRadius:Y},children:[(0,I.jsx)(d.Ay,{container:!0,spacing:2,columns:16,style:{marginBottom:"24px"},children:(0,I.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,style:{overFlow:"hidden"},children:(0,I.jsx)(h.A,{src:B.picture?B.pictureWithPath:null,alt:"Asset",style:{width:"204px",height:"205px",borderRadius:"8px"},disabled:true})})}),(0,I.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,I.jsx)(d.Ay,{item:!0,xs:12,md:6,style:{borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",paddingTop:"0px"},className:"list-border",children:(0,I.jsx)(g.A,{children:(0,I.jsx)(C.A,{data:K,itemHeight:47,itemKey:"title",children:e=>(0,I.jsxs)(g.A.Item,{style:{paddingRight:"10px"},children:[(0,I.jsx)(g.A.Item.Meta,{style:{color:"#919EAB !important"},title:e.title}),(0,I.jsx)("div",{children:e.key})]})})})}),(0,I.jsx)(d.Ay,{item:!0,xs:12,md:6,style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",paddingRight:"10px",paddingLeft:"0px",paddingTop:"0px"},className:"list-border",children:(0,I.jsx)(g.A,{children:(0,I.jsx)(C.A,{data:G,itemHeight:47,itemKey:"title",children:e=>(0,I.jsxs)(g.A.Item,{style:{paddingLeft:"10px"},children:[(0,I.jsx)(g.A.Item.Meta,{style:{color:"#919EAB !important"},title:e.title}),(0,I.jsx)("div",{children:e.key})]})})})})]}),(0,I.jsxs)(y.A,{direction:"vertical",style:{width:"100%"},children:[(0,I.jsxs)("div",{style:{color:"rgba(0, 0, 0, 0.88)",background:"#ffffff",top:0,zIndex:1,width:"100%",display:"flex",flexDirection:L.xs?"column":"row",alignItems:"center",paddingLeft:"0px",paddingRight:"0px"},children:[(0,I.jsx)("h3",{children:"Check List: "}),(0,I.jsx)("span",{children:(0,I.jsx)(y.A,{wrap:!0,children:M&&M.length>0?M.map(((e,t)=>null!==e?(0,I.jsx)(x.Ay,{className:"table-value-badge",children:e},t):null)):(0,I.jsx)(u.A,{children:M})})})]}),(0,I.jsxs)("div",{style:{color:"rgba(0, 0, 0, 0.88)",background:"#ffffff",top:0,zIndex:1,width:"100%",display:"flex",flexDirection:L.xs?"column":"row",alignItems:"center",paddingLeft:"0px",paddingRight:"0px"},children:[(0,I.jsx)("h3",{children:"ChildId List: "}),(0,I.jsx)("span",{children:(0,I.jsx)(y.A,{wrap:!0,children:S&&S.length>0?S.map(((e,t)=>null!==e.childId?(0,I.jsx)(x.Ay,{className:"table-value-badge",children:e.childId},t):null)):(0,I.jsx)(u.A,{children:S})})})]})]})]})})}),(0,I.jsx)(D,{style:{textAlign:"center"},children:" "})]}):(0,I.jsxs)(c.A,{children:[(0,I.jsx)(w,{style:{color:"rgba(0, 0, 0, 0.88)",background:"#ffffff",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center"},children:(0,I.jsx)("h3",{children:"Asset QR Code Scan Details"})}),(0,I.jsx)(T,{style:{padding:"0 48px",paddingTop:"48px"},children:(0,I.jsx)(W,{children:(0,I.jsxs)("div",{style:{padding:24,minHeight:380,background:N,borderRadius:Y},children:[(0,I.jsx)(d.Ay,{container:!0,spacing:2,columns:16,style:{marginBottom:"24px"},children:(0,I.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,style:{overflow:"hidden"},children:(0,I.jsx)(A.A.Image,{active:loading,children:(0,I.jsx)(h.A,{src:B.picture?B.pictureWithPath:null,alt:"Asset",style:{width:"204px",height:"205px",borderRadius:"8px"},disabled:true})})})}),(0,I.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,I.jsx)(d.Ay,{item:!0,xs:12,md:6,style:{borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",paddingTop:"0px"},className:"list-border",children:(0,I.jsx)(A.A,{active:!0,loading:loading,paragraph:{rows:4},children:(0,I.jsx)(g.A,{children:(0,I.jsx)(C.A,{data:K,itemHeight:47,itemKey:"title",children:e=>(0,I.jsxs)(g.A.Item,{style:{paddingRight:"10px"},children:[(0,I.jsx)(g.A.Item.Meta,{style:{color:"#919EAB !important"},title:e.title}),(0,I.jsx)("div",{children:e.key})]})})})})}),(0,I.jsx)(d.Ay,{item:!0,xs:12,md:6,style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",paddingRight:"10px",paddingLeft:"0px",paddingTop:"0px"},className:"list-border",children:(0,I.jsx)(A.A,{active:!0,loading:loading,paragraph:{rows:4},children:(0,I.jsx)(g.A,{children:(0,I.jsx)(C.A,{data:G,itemHeight:47,itemKey:"title",children:e=>(0,I.jsxs)(g.A.Item,{style:{paddingLeft:"10px"},children:[(0,I.jsx)(g.A.Item.Meta,{style:{color:"#919EAB !important"},title:e.title}),(0,I.jsx)("div",{children:e.key})]})})})})})]}),(0,I.jsxs)(y.A,{direction:"vertical",style:{width:"100%"},children:[(0,I.jsx)(w,{style:{color:"rgba(0, 0, 0, 0.88)",background:"#ffffff",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center",paddingLeft:"0px",paddingRight:"0px"},children:(0,I.jsxs)(Q,{children:[(0,I.jsx)("h3",{children:"Check List:"}),(0,I.jsx)("span",{children:(0,I.jsx)(H,{gap:"4px",wrap:"wrap",children:(0,I.jsx)(A.A,{active:!0,loading:loading,paragraph:{rows:1},children:M&&M.length>0?M.map(((e,t)=>null!==e?(0,I.jsx)(x.Ay,{className:"table-value-badge mr-3 ml-3",children:e},t):null)):(0,I.jsx)(u.A,{children:"No details available"})})})})]})}),(0,I.jsx)(w,{style:{color:"rgba(0, 0, 0, 0.88)",background:"#ffffff",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center",paddingLeft:"0px",paddingRight:"0px"},children:(0,I.jsxs)(Q,{children:[(0,I.jsx)("h3",{children:"ChildId List:"}),(0,I.jsx)("span",{children:(0,I.jsx)(H,{gap:"4px",wrap:"wrap",children:(0,I.jsx)(A.A,{active:!0,loading:loading,paragraph:{rows:1},children:S&&S.length>0?S.map(((e,t)=>null!==e.childId?(0,I.jsx)(x.Ay,{className:"table-value-badge mr-3 ml-3",children:e.childId},t):null)):(0,I.jsx)(u.A,{children:"No ChildId available"})})})})]})})]})]})})}),(0,I.jsx)(D,{style:{textAlign:"center"},children:"Footer content here"})]})})}}}]);
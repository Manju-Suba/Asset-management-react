"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[8],{86290:(e,s,t)=>{t.d(s,{h:()=>r});var l,a=t(9950);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},n.apply(this,arguments)}function i(e,s){let{title:t,titleId:i,...r}=e;return a.createElement("svg",n({width:18,height:19,viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,l||(l=a.createElement("path",{d:"M12.7118 2.0375C11.721 1.046 10.4025 0.5 9.00001 0.5C7.59751 0.5 6.27901 1.046 5.28751 2.0375C3.24076 4.08425 3.24076 7.415 5.29351 9.46775L7.16476 11.2978C7.67101 11.7928 8.33551 12.0402 9.00001 12.0402C9.66451 12.0402 10.329 11.7928 10.8353 11.2978L12.7118 9.46175C13.7033 8.47025 14.25 7.15175 14.25 5.74925C14.25 4.34675 13.7033 3.02975 12.7118 2.0375ZM9.00001 7.9925C7.75726 7.9925 6.75001 6.98525 6.75001 5.7425C6.75001 4.49975 7.75726 3.4925 9.00001 3.4925C10.2428 3.4925 11.25 4.49975 11.25 5.7425C11.25 6.98525 10.2428 7.9925 9.00001 7.9925ZM18 13.0715C18.0015 13.337 17.8628 13.583 17.6363 13.7188L10.2405 18.1565C9.85801 18.386 9.42901 18.5007 9.00076 18.5007C8.57251 18.5007 8.14276 18.386 7.76101 18.1565L0.363762 13.7188C0.136512 13.5822 -0.0014879 13.3362 1.21046e-05 13.0715C0.0015121 12.8067 0.142512 12.5623 0.371262 12.4288L4.01251 10.2972C4.08751 10.3798 4.16476 10.4615 4.24426 10.541L6.11551 12.3702C6.88651 13.1248 7.91176 13.541 9.00001 13.541C10.0883 13.541 11.1128 13.1248 11.8845 12.3702L13.773 10.523C13.8465 10.4495 13.9185 10.3737 13.9883 10.2972L17.6288 12.428C17.8575 12.5623 17.9985 12.8075 18 13.0715Z",fill:"#919EAB"})))}const r=a.forwardRef(i);t.p},23652:(e,s,t)=>{t.d(s,{gA:()=>i,qO:()=>n});var l=t(65629),a=t(3680);const n=(e,s,t,n,i,r,d,o)=>c=>{let m;m=n||0;let u="/asset/get-all-assets?page=".concat(m,"&size=").concat(i,"&search=").concat(r,"&value=").concat(d);t&&"Asset Status"!=t&&void 0!=t&&(u+="&assetStatus=".concat(t)),e&&"Choose Asset Class"!=e&&void 0!=e&&(u+="&assetClass=".concat(e)),s&&"Choose SubClass"!=s&&void 0!=s&&(u+="&subClass=".concat(s)),a.A.get(u,{signal:o,headers:{"Content-Type":"application/json"}}).then((e=>{c({type:l.ZU,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},i=(e,s,t,n,i,r,d,o)=>c=>{let m;m=n||0;let u="/multiUsers/get-all?page=".concat(m,"&size=").concat(i,"&search=").concat(r,"&value=").concat(d);t&&"Asset Status"!=t&&void 0!=t&&(u+="&assetStatus=".concat(t)),e&&"Choose Asset Class"!=e&&void 0!=e&&(u+="&assetClass=".concat(e)),s&&"Choose SubClass"!=s&&void 0!=s&&(u+="&childId=".concat(s)),a.A.get(u,{signal:o,headers:{"Content-Type":"application/json"}}).then((e=>{c({type:l._X,payload:e.data.data})})).catch((e=>{console.log("error",e)}))}},19097:(e,s,t)=>{t.d(s,{Hl:()=>o,S9:()=>r,Zw:()=>i,aE:()=>c,as:()=>n,iX:()=>d});var l=t(65629),a=t(3680);const n=e=>async()=>await a.A.post("/multiUsers/transfer-request",e,{headers:{"Content-Type":"application/json"}}),i=(e,s,t,n,i,r)=>d=>{let o;o=i||0;let c="/multiUsers/transferred-by-status?page=".concat(o,"&size=").concat(r,"&status=").concat(e);s&&"Choose Asset Class"!=s&&(c+="&assetClass=".concat(s)),t&&"Asset Status"!=t&&""!=t&&(c+="&assetType=".concat(t)),n&&(c+="&assetId=".concat(n)),a.A.get(c,{headers:{"Content-Type":"application/json"}}).then((s=>{d("Approved"==e?{type:l.jo,payload:s.data.data}:"Rejected"==e?{type:l.bf,payload:s.data.data}:{type:l.Hj,payload:s.data.data})})).catch((e=>{console.log("error",e)}))},r=(e,s,t,n,i,r)=>d=>{let o;o=i||0;let c="/multiUsers/transferred-by-status?page=".concat(o,"&size=").concat(r,"&status=").concat(e);s&&"Choose Asset Class"!=s&&(c+="&assetClass=".concat(s)),t&&"Asset Status"!=t&&""!=t&&(c+="&assetType=".concat(t)),n&&(c+="&assetId=".concat(n)),a.A.get(c,{headers:{"Content-Type":"application/json"}}).then((s=>{d("Approved"==e?{type:l.jo,payload:s.data.data}:"Rejected"==e?{type:l.bf,payload:s.data.data}:{type:l.Hj,payload:s.data.data})})).catch((e=>{console.log("error",e)}))},d=e=>s=>{a.A.get("/transfer/get-all-transfer-history-by-assetid?assetId=".concat(e),{headers:{"Content-Type":"application/json"}}).then((e=>{s({type:l.A0,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},o=(e,s,t)=>async()=>await a.A.put("/multiUsers/multiple-asset-status-update",{id:"".concat(e),assetId:"".concat(s),status:"".concat(t)},{headers:{"Content-Type":"application/json"}}),c=(e,s)=>async()=>await a.A.put("/transfer/multiple-asset-status-update?ids=".concat(e,"&status=").concat(s),{},{headers:{"Content-Type":"application/json"}})},36853:(e,s,t)=>{t.d(s,{qJ:()=>n,qL:()=>i,uO:()=>r});var l=t(3680),a=t(65629);const n=e=>s=>{l.A.get("/asset-class/get-all",{signal:e,headers:{"Content-Type":"application/json"}}).then((e=>{s({type:a.ZF,payload:e.data.data})})).catch((e=>{console.log("error",e)}))},i=()=>e=>{l.A.get("/asset-class/check-list-asset-class",{headers:{"Content-Type":"application/json"}}).then((s=>{e({type:a.Z_,payload:s.data.data})})).catch((e=>{console.log("error",e)}))},r=(e,s)=>t=>{let n,i;n=e||0,i="/asset-class/get-all-master?page=".concat(n,"&size=").concat(s),l.A.get(i,{headers:{"Content-Type":"application/json"}}).then((e=>{t({type:a.gk,payload:e.data.data})})).catch((e=>{console.log("error",e)}))}},91285:(e,s,t)=>{t.d(s,{U:()=>n});var l=t(3680),a=t(65629);const n=e=>s=>{let t="/asset-class/get-subclass?assetClass=".concat(e);l.A.get(t,{headers:{"Content-Type":"application/json"}}).then((e=>{s({type:a.bY,payload:e.data.data})})).catch((e=>{console.log("error",e)}))}},15327:(e,s,t)=>{t.d(s,{A:()=>v});var l,a=t(9950),n=t(16491),i=t(60899),r=t(25277),d=t(83511),o=t(56076),c=t(87094),m=t(41988),u=t(84064),h=t(82569),x=t(19097),p=t(4159),g=t.n(p),A=t(86290);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},b.apply(this,arguments)}function j(e,s){let{title:t,titleId:n,...i}=e;return a.createElement("svg",b({width:17,height:11,viewBox:"0 0 17 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":n},i),t?a.createElement("title",{id:n},t):null,l||(l=a.createElement("path",{d:"M0.966873 4.51065H13.7006L10.916 1.67551C10.7352 1.49145 10.6337 1.2418 10.6337 0.981492C10.6337 0.721184 10.7352 0.471538 10.916 0.287472C11.0968 0.103407 11.342 0 11.5976 0C11.8533 0 12.0985 0.103407 12.2793 0.287472L16.7172 4.80598C16.8069 4.89705 16.878 5.00523 16.9265 5.12432C16.975 5.24341 17 5.37107 17 5.5C17 5.62893 16.975 5.75659 16.9265 5.87568C16.878 5.99477 16.8069 6.10295 16.7172 6.19402L12.2793 10.7125C12.1898 10.8037 12.0835 10.876 11.9666 10.9253C11.8496 10.9746 11.7242 11 11.5976 11C11.4711 11 11.3457 10.9746 11.2287 10.9253C11.1118 10.876 11.0055 10.8037 10.916 10.7125C10.8265 10.6214 10.7555 10.5132 10.707 10.3941C10.6586 10.275 10.6337 10.1474 10.6337 10.0185C10.6337 9.88962 10.6586 9.76199 10.707 9.64291C10.7555 9.52383 10.8265 9.41563 10.916 9.32449L13.7006 6.4795H0.966873C0.435093 6.4795 0 6.03651 0 5.49508C0 4.95364 0.435093 4.51065 0.966873 4.51065Z",fill:"#919EAB"})))}const y=a.forwardRef(j);t.p;var f=t(44414);const v=e=>{let{selectedAsset:s}=e;const t=(0,h.wA)(),l=(0,h.d4)((e=>e.AssetTransferData&&e.AssetTransferData.TransferHistoryByAssetId));a.useEffect((()=>{s&&t((0,x.iX)(s.assetId))}),[t,s]);const p={width:"30px",height:42};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("style",{children:"\n    b {\n        font-weight: 800;\n        font-size: 11px;\n    }\n\n    .small-x{\n        font-size: 10px;\n    }\n"}),(0,f.jsx)(n.A,{className:"margin-top-30px",children:(0,f.jsx)(d.A,{children:(0,f.jsx)(i.Ay,{item:!0,sx:{ml:3.6,mr:3.6},children:(0,f.jsx)(i.Ay,{children:(0,f.jsx)(o.A,{children:l?l.map(((e,s)=>(0,f.jsxs)(o.A.Item,{children:[(0,f.jsxs)("small",{className:"text-grey-label",children:["Transfer ",s+1," | ",g()(e.auditDate).format("DD MMM, YYYY")]}),(0,f.jsxs)(c.A,{children:[(0,f.jsx)(m.A,{span:5,xs:{span:6},sm:{span:8},md:{span:6},lg:{span:6},children:(0,f.jsxs)("div",{className:"box-timeline-list",children:[(0,f.jsx)("small",{className:"text-grey-label small-x",children:"Transferred From"}),(0,f.jsx)(c.A,{children:(0,f.jsx)(m.A,{span:12,children:(0,f.jsx)(u.A,{gap:"small",children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)("div",{style:{...p},children:(0,f.jsx)(r.A,{className:"mpl-0",icon:(0,f.jsx)(A.h,{}),label:!1})}),(0,f.jsxs)("div",{style:{marginLeft:"10px"},children:[(0,f.jsx)("b",{children:e.fromPlant}),(0,f.jsx)("br",{}),(0,f.jsx)("small",{className:"text-grey-label small-x",children:e.assetId})]})]})})})})]})}),(0,f.jsx)(m.A,{span:2,style:{padding:"31px 25px"},children:(0,f.jsx)(r.A,{className:"mpl-0",icon:(0,f.jsx)(y,{}),label:!1})}),(0,f.jsx)(m.A,{span:5,xs:{span:6},sm:{span:8},md:{span:6},lg:{span:6},children:(0,f.jsxs)("div",{className:"box-timeline-list",children:[(0,f.jsx)("small",{className:"text-grey-label small-x",children:"Transferred To"}),(0,f.jsx)(c.A,{children:(0,f.jsx)(m.A,{span:12,children:(0,f.jsx)(u.A,{gap:"small",children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)("div",{style:{...p},children:(0,f.jsx)(r.A,{className:"mpl-0",icon:(0,f.jsx)(A.h,{}),label:!1})}),(0,f.jsxs)("div",{style:{marginLeft:"10px"},children:[(0,f.jsx)("b",{children:e.toPlant}),(0,f.jsx)("br",{}),(0,f.jsx)("small",{className:"text-grey-label small-x",children:e.assetId})]})]})})})})]})})]})]},e.id))):null})})})})})]})}},90008:(e,s,t)=>{t.d(s,{A:()=>oe});var l=t(9950),a=t(18437),n=t(84142),i=t(82053),r=t(16491),d=t(63189),o=t(10226),c=t(60899),m=t(83511),u=t(3434),h=t(47972),x=t(45259),p=t(59159),g=t(94622),A=t(93124),b=t(52160),j=t(99386),y=t(65884),f=t(59949),v=t(6940),C=t(83791),w=t(32921),I=t(10866),N=t(78433),D=t(45470),O=t(4976),S=t(4159),T=t.n(S),V=t(53872),E=t(85923),B=(t(47705),t(45452)),L=t(96965),Y=t(82569),k=t(59051),z=t.n(k),q=t(44414);const R=e=>{var s,t,a,n,i,d,S,k,R,M,F,P,W,U,H,G,_,Z,X,Q,J,K,$,ee,se,te,le,ae,ne,ie,re,de,oe,ce,me,ue;let{selectedAsset:he,geoLocation:xe,editAble:pe,handleViewAction:ge,selectedCategory:Ae,selectedAssetType:be,tableRefresh:je}=e;const[ye]=m.A.useForm(),fe=(0,Y.wA)(),ve=(0,l.useRef)(he),{RangePicker:Ce}=u.A,we="YYYY/MM/DD",Ie=T()(),Ne=he.assetAgeingTo?T()(he.assetAgeingTo,we):T()(Ie,we),De=he.assetAgeingFrom?T()(he.assetAgeingFrom,we):null,[Oe,Se]=(0,l.useState)(he.picture?he.pictureWithPath:null),{protocol:Te,host:Ve}=window.location,Ee="".concat(Te,"//").concat(Ve),Be="".concat(Ee)+"/#/asset-qr-details/".concat(he.assetId,"/").concat(he.companyId,"/").concat(he.plant);(0,l.useEffect)((()=>{fe((0,L.Kf)(he.assetId,he.plant,he.companyId))}),[fe]);const Le=(0,Y.d4)((e=>e.AssetAuditData&&e.AssetAuditData.ChildIdAudit)),Ye=()=>{const e=ye.getFieldValue("assetAgeing");if(null!=e){const s=qe(e[0]),t=qe(e[1]),l=new Date(s),a=new Date(t),n=[];let i=z()(l);for(;i<=a;)n.push(i.format("YYYY-MM-DD")),i=i.clone().add(1,"days");const r=n.length;ye.setFieldsValue({assetLifetime:r})}},ke=()=>{Se(null),ye.setFieldsValue({assetImage:null})},ze=e=>{const{name:s,value:t}=e.target,l={...ve.current,[s]:t};if("beginningTotalAsset"===s||"endingTotalAsset"===s){const e=(Number(l.beginningTotalAsset)+Number(l.endingTotalAsset))/2;l.averageTotalAsset=e,ye.setFieldsValue({averageTotalAsset:e})}if("estimatedSalvageValue"===s){const e=(Number(l.costOfAsset)-Number(l.estimatedSalvageValue))/Number(l.usefulLife);l.depreciation=e,ye.setFieldsValue({depreciation:e})}if("netProfitOrBenefit"===s){const e=Number(l.netProfitOrBenefit)/Number(l.costOfInvestment)*100;l.returnOfInvestment=e,ye.setFieldsValue({returnOfInvestment:e})}if("totalBenefit"===s||"totalCost"===s){const e=Number(l.totalBenefit)-Number(l.totalCost);l.netBenefit=e,ye.setFieldsValue({netBenefit:e})}if("revenueGenerated"===s||"averageTotalAsset"===s){const e=Number(l.revenueGenerated)/Number(l.averageTotalAsset)*100;l.assetUtilization=e,ye.setFieldsValue({assetUtilization:e})}if("netIncome"===s||"costOfInvestment"===s){const e=Number(l.netIncome)/Number(l.costOfInvestment)*100;l.returnOfAsset=e,ye.setFieldsValue({returnOfAsset:e})}ve.current=l};(0,l.useEffect)((()=>{var e,s,t,l,a,n,i,r,d,o,c,m,u,h,x,p,g,A,b,j,y,f,v,C,w,I,N,D,O,S,V,E,B,L,Y,k,z,q,R,M;ye.setFieldsValue({assetQrCode:null===(e=ve.current)||void 0===e?void 0:e.assetId,latitudeAndLongitude:null!==(s=ve.current)&&void 0!==s&&s.latitudeAndLongitude?null===(t=ve.current)||void 0===t?void 0:t.latitudeAndLongitude:"".concat(null===xe||void 0===xe?void 0:xe.latitude,"/").concat(null===xe||void 0===xe?void 0:xe.longitude),assetId:null===(l=ve.current)||void 0===l?void 0:l.assetId,costClassWise:null===(a=ve.current)||void 0===a?void 0:a.costClassWise,assetClass:null===(n=ve.current)||void 0===n?void 0:n.assetClass,plant:null===(i=ve.current)||void 0===i?void 0:i.plant,serialNumber:null===(r=ve.current)||void 0===r?void 0:r.serialNumber,assetStatus:null===(d=ve.current)||void 0===d?void 0:d.assetStatus,assetAgeing:he.assetAgeingFrom?[De,Ne]:null,assetLifetime:null===(o=ve.current)||void 0===o?void 0:o.assetLifetime,requiresAttention:null===(c=ve.current)||void 0===c?void 0:c.requiresAttention,upOrDowntime:null===(m=ve.current)||void 0===m?void 0:m.upOrDowntime,warrantyStatus:null===(u=ve.current)||void 0===u?void 0:u.warrantyStatus,noOfRoutinesExecuted:null===(h=ve.current)||void 0===h?void 0:h.noOfRoutinesExecuted,costOfAsset:null===(x=ve.current)||void 0===x?void 0:x.costOfAsset,estimatedSalvageValue:null===(p=ve.current)||void 0===p?void 0:p.estimatedSalvageValue,usefulLife:null===(g=ve.current)||void 0===g?void 0:g.usefulLife,netProfitOrBenefit:null===(A=ve.current)||void 0===A?void 0:A.netProfitOrBenefit,costOfInvestment:null===(b=ve.current)||void 0===b?void 0:b.costOfInvestment,totalBenefit:null===(j=ve.current)||void 0===j?void 0:j.totalBenefit,totalCost:null===(y=ve.current)||void 0===y?void 0:y.totalCost,revenueGenerated:null===(f=ve.current)||void 0===f?void 0:f.revenueGenerated,beginningTotalAsset:null===(v=ve.current)||void 0===v?void 0:v.beginningTotalAsset,endingTotalAsset:null===(C=ve.current)||void 0===C?void 0:C.endingTotalAsset,netIncome:null===(w=ve.current)||void 0===w?void 0:w.netIncome,depreciation:(Number(null===(I=ve.current)||void 0===I?void 0:I.costOfAsset)-Number(null===(N=ve.current)||void 0===N?void 0:N.estimatedSalvageValue))/Number(null===(D=ve.current)||void 0===D?void 0:D.usefulLife),returnOfInvestment:null===(O=ve.current)||void 0===O?void 0:O.returnOfInvestment,netBenefit:null===(S=ve.current)||void 0===S?void 0:S.netBenefit,assetUtilization:null===(V=ve.current)||void 0===V?void 0:V.assetUtilization,averageTotalAsset:(Number(ve.current.beginningTotalAsset)+Number(ve.current.endingTotalAsset))/2,returnOfAsset:null===(E=ve.current)||void 0===E?void 0:E.returnOfAsset,expiryDate:null!==(B=ve.current)&&void 0!==B&&B.expiryDate?T()(null===(L=ve.current)||void 0===L?void 0:L.expiryDate,we):null,description:null===(Y=ve.current)||void 0===Y?void 0:Y.descriptions,costCenter:null===(k=ve.current)||void 0===k?void 0:k.costCenter,capitalizationDate:null!==(z=ve.current)&&void 0!==z&&z.capitalizationDate?T()(null===(q=ve.current)||void 0===q?void 0:q.capitalizationDate,we):null,assetRetirementDate:null!==(R=ve.current)&&void 0!==R&&R.assetRetirementDate?T()(null===(M=ve.current)||void 0===M?void 0:M.assetRetirementDate,we):null}),ve.current=ye.getFieldsValue(),Ye()}),[ve,ye]);function qe(e){return new Date(e).toISOString().split("T")[0]}return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(r.A,{children:(0,q.jsx)(m.A,{onFinish:()=>{"null/null"!=ye.getFieldValue("latitudeAndLongitude")?ye.validateFields().then((e=>{const s=new FormData;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const l=e[t];"expiryDate"===t&&l?s.append(t,qe(l)):"assetRetirementDate"===t&&l||"capitalizationDate"===t&&l?s.append(t,l?qe(l):null):l&&s.append(t,l)}s.append("assetAgeingFrom",qe(e.assetAgeing[0])),s.append("assetAgeingTo",qe(e.assetAgeing[1])),e.assetImage&&s.append("imageUpload",e.assetImage.originFileObj),s.append("id",he.id),ge(),fe((0,B.fO)(s)).then((e=>{E.oR.success(e.data.message),fe((0,B.TX)(je,Ae,be,"",0,10,!1,""))})).catch((e=>{E.oR.error(e.response.data.message)}))})).catch((e=>{console.log("Validation failed:",e)})):E.oR.error("Please give access for location.")},form:ye,initialValues:ye.getFieldsValue(),children:(0,q.jsxs)(c.Ay,{item:!0,sx:{ml:3.6,mr:3.6},children:[(0,q.jsxs)(c.Ay,{container:!0,spacing:2,columns:16,children:[(0,q.jsx)(c.Ay,{item:!0,container:!0,children:(0,q.jsx)("h3",{children:"Asset Details"})}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset Image"}),name:"assetImage",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"}}),Oe?(0,q.jsx)("div",{children:(0,q.jsx)(h.A,{src:Oe,alt:"Asset",style:{width:"100.17px",height:"100.17px",borderRadius:"8px"},disabled:pe,preview:!pe&&{toolbarRender:(e,s)=>{let{transform:{scale:t},actions:{onFlipY:l,onFlipX:a,onRotateLeft:n,onRotateRight:i,onZoomOut:r,onZoomIn:d}}=s;return(0,q.jsxs)(x.A,{size:12,className:"toolbar-wrapper",children:[(0,q.jsx)(f.A,{rotate:90,onClick:l}),(0,q.jsx)(f.A,{onClick:a}),(0,q.jsx)(v.A,{onClick:n}),(0,q.jsx)(C.A,{onClick:i}),(0,q.jsx)(w.A,{disabled:1===t,onClick:r}),(0,q.jsx)(I.A,{disabled:50===t,onClick:d}),(0,q.jsx)(N.A,{onClick:ke})]})}}})}):(0,q.jsx)(p.A,{listType:"picture-card",showUploadList:!1,beforeUpload:e=>{if(!e.type.startsWith("image/"))return E.oR.error("".concat(e.name," is not an image file")),!1;const s=new FileReader;return s.readAsDataURL(e),s.onload=()=>{Se(s.result)},!1},maxCount:1,onChange:e=>{ye.setFieldsValue({assetImage:e.fileList[0]}),"removed"===e.file.status?Se(null):"done"===e.file.status&&Se(e.file.response.imageUrl)},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},disabled:pe,rules:Oe?[{required:!0,message:"This field is required"}]:"",children:(0,q.jsxs)("div",{children:[(0,q.jsx)(y.A,{fontSize:"large"}),(0,q.jsx)("div",{style:{marginTop:8},children:"Change Picture"})]})})]}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:6,children:[(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset QR Code"}),name:"assetQrCode",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"}}),(0,q.jsxs)(x.A,{id:"myqrcode",children:[(0,q.jsx)(V.Ay,{size:100,style:{height:"auto"},value:Be,viewBox:"0 0 100 100"}),(0,q.jsx)(o.A,{style:{color:"#919EAB",cursor:"pointer"},onClick:()=>{var e;const s=null===(e=document.getElementById("myqrcode"))||void 0===e?void 0:e.querySelector("canvas");if(s){const e=s.toDataURL(),t=document.createElement("a");t.download="QRCode.png",t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},disabled:pe,startIcon:(0,q.jsx)(D.A,{style:{fontSize:24,color:"#919EAB"}}),children:(0,q.jsx)(g.A.Text,{style:{color:"#919EAB",marginLeft:8},children:"Download QR Code"})})]})]}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,sx:{color:"#919EAB"},children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset Longitude & Latitude"}),name:"latitudeAndLongitude",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px",color:"#919EAB"},children:(0,q.jsxs)(x.A.Compact,{style:{width:"100%"},children:[(0,q.jsx)(A.A,{style:{height:"40px"},name:"latitudeAndLongitude",defaultValue:null!==(s=ve.current)&&void 0!==s&&s.latitudeAndLongitude?null===(t=ve.current)||void 0===t?void 0:t.latitudeAndLongitude:"".concat(null===xe||void 0===xe?void 0:xe.latitude,"/").concat(null===xe||void 0===xe?void 0:xe.longitude),readOnly:!0,disabled:pe}),(0,q.jsx)(b.Ay,{type:"primary",style:{height:"40px"},icon:(0,q.jsx)(O.A,{}),disabled:pe,onClick:()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{const s=e.coords.latitude,t=e.coords.longitude;ye.resetFields(["latitudeAndLongitude"]),ye.setFieldsValue({latitudeAndLongitude:"".concat(s,"/").concat(t)}),ve.current.latitudeAndLongitude="".concat(s,"/").concat(t)}),(e=>{e.code===e.PERMISSION_DENIED?E.oR.error("Please give access for location."):console.error("Error getting geolocation:",e)})):console.log("Geolocation is not available in your browser.")}})]})})})]}),(0,q.jsxs)(c.Ay,{item:!0,container:!0,spacing:2,columns:19,children:[(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset ID"}),name:"assetId",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(a=ve.current)||void 0===a?void 0:a.assetId,disabled:pe,readOnly:!0})})]}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Cost Class wise"}),name:"costClassWise",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(n=ve.current)||void 0===n?void 0:n.costClassWise,disabled:pe})})}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset class"}),name:"assetClass",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(i=ve.current)||void 0===i?void 0:i.assetClass,disabled:pe,readOnly:!0})})]}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Plant"}),name:"plant",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(d=ve.current)||void 0===d?void 0:d.plant,disabled:pe,readOnly:!0})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Serial No"}),name:"serialNumber",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(S=ve.current)||void 0===S?void 0:S.serialNumber,disabled:pe})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Status"}),name:"assetStatus",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"40px"},rules:[{required:!0,message:"This field is required"}],children:"Scrapped"==(null===(k=ve.current)||void 0===k?void 0:k.assetStatus)?(0,q.jsx)(j.A,{defaultValue:null===(R=ve.current)||void 0===R?void 0:R.assetStatus,style:{height:"40px"},showSearch:!0,options:[{value:"Scrapped",label:"Scrapped"}],disabled:pe}):(0,q.jsx)(j.A,{defaultValue:null===(M=ve.current)||void 0===M?void 0:M.assetStatus,style:{height:"40px"},showSearch:!0,options:[{value:"Online",label:"Online"},{value:"Offline",label:"Offline"},{value:"Maintenance",label:"Maintenance"}],disabled:pe})})})]}),(0,q.jsxs)(c.Ay,{item:!0,container:!0,spacing:2,columns:19,children:[(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset Ageing"}),name:"assetAgeing",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(Ce,{style:{height:"40px",width:"100%"},format:"DD-MM-YYYY",defaultValue:null!==(F=ve.current)&&void 0!==F&&F.assetAgeingFrom?[De,Ne]:null,disabled:pe,onChange:Ye})})}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset Lifetime"}),name:"assetLifetime",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(P=ve.current)||void 0===P?void 0:P.assetLifetime,disabled:pe,readOnly:!0})})]}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Requires Attention"}),name:"requiresAttention",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(W=ve.current)||void 0===W?void 0:W.requiresAttention,disabled:pe})})]}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"UP/Downtime"}),name:"upOrDowntime",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(U=ve.current)||void 0===U?void 0:U.upOrDowntime,disabled:pe,type:"number",className:"no-spinner"})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Warranty Status"}),name:"warrantyStatus",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(H=ve.current)||void 0===H?void 0:H.warrantyStatus,disabled:pe})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"No of Routines Executed"}),name:"noOfRoutinesExecuted",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(G=ve.current)||void 0===G?void 0:G.noOfRoutinesExecuted,disabled:pe,type:"number",className:"no-spinner"})})})]}),(0,q.jsxs)(c.Ay,{item:!0,container:!0,spacing:2,columns:19,children:[(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Cost of Asset"}),name:"costOfAsset",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(_=ve.current)||void 0===_?void 0:_.costOfAsset,type:"number",name:"costOfAsset",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})]}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Estimated Salvage Value"}),name:"estimatedSalvageValue",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(Z=ve.current)||void 0===Z?void 0:Z.estimatedSalvageValue,type:"number",name:"estimatedSalvageValue",className:"no-spinner",onChange:ze,disabled:pe})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Useful Life"}),name:"usefulLife",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(X=ve.current)||void 0===X?void 0:X.usefulLife,disabled:pe,readOnly:!0})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Net Profit or Benefit"}),name:"netProfitOrBenefit",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(Q=ve.current)||void 0===Q?void 0:Q.netProfitOrBenefit,name:"netProfitOrBenefit",type:"number",className:"no-spinner",onChange:ze,disabled:pe})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Cost of Inverstment"}),name:"costOfInvestment",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(J=ve.current)||void 0===J?void 0:J.costOfInvestment,name:"costOfInvestment",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})})]}),(0,q.jsxs)(c.Ay,{item:!0,container:!0,spacing:2,columns:19,children:[(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Total Benefit"}),name:"totalBenefit",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(K=ve.current)||void 0===K?void 0:K.totalBenefit,name:"totalBenefit",type:"number",className:"no-spinner",onChange:ze,disabled:pe})})]}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Total Cost"}),name:"totalCost",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===($=ve.current)||void 0===$?void 0:$.totalCost,name:"totalCost",type:"number",className:"no-spinner",onChange:ze,disabled:pe})})]}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Revenue Generated"}),name:"revenueGenerated",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(ee=ve.current)||void 0===ee?void 0:ee.revenueGenerated,name:"revenueGenerated",type:"number",className:"no-spinner",onChange:ze,disabled:pe})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Begining Total Asset"}),name:"beginningTotalAsset",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(se=ve.current)||void 0===se?void 0:se.beginningTotalAsset,name:"beginningTotalAsset",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Ending Total Asset"}),name:"endingTotalAsset",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(te=ve.current)||void 0===te?void 0:te.endingTotalAsset,name:"endingTotalAsset",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Net Income"}),name:"netIncome",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(le=ve.current)||void 0===le?void 0:le.netIncome,name:"netIncome",type:"number",className:"no-spinner",onChange:ze,disabled:pe})})]})]}),(0,q.jsxs)(c.Ay,{item:!0,container:!0,spacing:2,columns:19,children:[(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Depreciation"}),name:"depreciation",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:(Number(null===(ae=ve.current)||void 0===ae?void 0:ae.costOfAsset)-Number(null===(ne=ve.current)||void 0===ne?void 0:ne.estimatedSalvageValue))/Number(null===(ie=ve.current)||void 0===ie?void 0:ie.usefulLife),type:"number",name:"depreciation",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})]}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Return of Investment"}),name:"returnOfInvestment",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(re=ve.current)||void 0===re?void 0:re.returnOfInvestment,name:"returnOfInvestment",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Net Benefit"}),name:"netBenefit",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(de=ve.current)||void 0===de?void 0:de.netBenefit,name:"netBenefit",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset Utilization"}),name:"assetUtilization",labelAlign:"top",labelCol:{span:24},item:!0,sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(oe=ve.current)||void 0===oe?void 0:oe.assetUtilization,name:"assetUtilization",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})}),(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Average Total Asset"}),name:"averageTotalAsset",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:(Number(ve.current.beginningTotalAsset)+Number(ve.current.endingTotalAsset))/2,name:"averageTotalAsset",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Return Of Asset"}),name:"returnOfAsset",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(ce=ve.current)||void 0===ce?void 0:ce.returnOfAsset,name:"returnOfAsset",type:"number",className:"no-spinner",onChange:ze,disabled:pe,readOnly:!0})})]})]}),(0,q.jsxs)(c.Ay,{item:!0,container:!0,spacing:2,columns:19,children:[(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Expired Date"}),name:"expiryDate",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},rules:[{required:!0,message:"This field is required"}],children:(0,q.jsx)(u.A,{style:{height:"40px",width:"100%"},format:"DD-MM-YYYY",name:"expiryDate",className:"no-spinner",onChange:e=>ze({target:{name:"expiryDate",value:qe(e)}}),disabled:pe})})]}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset Description"}),name:"description",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(me=ve.current)||void 0===me?void 0:me.description,name:"description",onChange:ze,disabled:pe,readOnly:!0})})]}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Cost Center"}),name:"costCenter",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:null===(ue=ve.current)||void 0===ue?void 0:ue.returnOfAsset,name:"costCenter",onChange:ze,disabled:pe,readOnly:!0})})]}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Capitalization Date"}),name:"capitalizationDate",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(u.A,{style:{height:"40px",width:"100%"},format:"DD-MM-YYYY",name:"capitalizationDate",onChange:e=>ze({target:{name:"expiryDate",value:qe(e)}}),disabled:pe,readOnly:!0})})]}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:[" ",(0,q.jsx)(m.A.Item,{label:(0,q.jsx)("span",{className:"label-style",children:"Asset Retirement Date"}),name:"assetRetirementDate",labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(u.A,{style:{height:"40px",width:"100%"},format:"DD-MM-YYYY",name:"assetRetirementDate",onChange:e=>ze({target:{name:"expiryDate",value:qe(e)}}),disabled:pe,readOnly:!0})})]})]}),(0,q.jsx)(c.Ay,{item:!0,container:!0,children:(0,q.jsx)("h3",{children:"Asset Child Details"})}),(0,q.jsx)(c.Ay,{item:!0,container:!0,spacing:2,columns:19,children:Le&&Le.length>0?Le.map(((e,s)=>null!==e.childId?(0,q.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(m.A.Item,{label:(0,q.jsxs)("span",{className:"label-style",children:["Child ",s+1]}),name:"child".concat(s+1),labelAlign:"top",labelCol:{span:24},sx:{width:150,height:"50px"},children:(0,q.jsx)(A.A,{style:{height:"40px"},defaultValue:e.childId,name:"child".concat(s+1),type:"number",className:"no-spinner",disabled:!0,readOnly:!0})})},s):"")):""}),(0,q.jsxs)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,style:{textAlign:"right",display:pe?"none":"block"},children:[" ",(0,q.jsx)(b.Ay,{htmlType:"submit",type:"primary",children:"Submit"})]})]})})})})};var M=t(25277),F=t(56076),P=t(87094),W=t(41988),U=t(84064),H=t(82570),G=t(93153),_=t(86290),Z=t(32203);const X=e=>{let{selectedAsset:s,AssetId:t}=e;const a=(0,Y.wA)(),n=(0,Y.d4)((e=>e.AssetAuditData&&e.AssetAuditData.AuditByAssetId));l.useEffect((()=>{t&&a((0,L.eS)(t))}),[a,s]);const i={width:"40px",height:54},d={width:"30px",height:54};return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(r.A,{children:(0,q.jsx)(m.A,{children:(0,q.jsxs)(c.Ay,{item:!0,sx:{ml:3.6,mr:3.6},children:[(0,q.jsx)(c.Ay,{container:!0,spacing:2,columns:16,children:(0,q.jsx)(c.Ay,{item:!0,container:!0,children:(0,q.jsxs)("pre",{style:{display:"inline"},children:[(0,q.jsx)("h4",{style:{display:"inline",marginRight:"5px"},children:"Audit details for "}),(0,q.jsx)("p",{style:{display:"inline",color:"blue"},children:t})]})})}),(0,q.jsx)(c.Ay,{children:(0,q.jsx)(F.A,{children:n?n.map(((e,s)=>{var t,l,a,n;return(0,q.jsxs)(F.A.Item,{children:["Audit ",s+1," | ",T()(e.auditDate).format("DD MMM YYYY"),(0,q.jsx)("div",{className:"box-timeline-list",children:(0,q.jsxs)(P.A,{children:[(0,q.jsxs)(W.A,{span:5,xs:{span:5},sm:{span:8},md:{span:5},lg:{span:5},children:[e.previewImageWithPath?(0,q.jsx)(x.A,{size:"middle",children:(0,q.jsx)("img",{src:e.previewImageWithPath,alt:"Previous",style:{width:"30px",height:"30px",borderRadius:"3px"}})}):(0,q.jsx)(x.A,{size:"middle",children:(0,q.jsx)("img",{src:Z,alt:"Previous Img",style:{width:"30px"}})}),(0,q.jsx)("br",{}),(0,q.jsx)("small",{className:"text-grey-label",children:"Previous Image"})]}),(0,q.jsxs)(W.A,{span:5,xs:{span:5},sm:{span:8},md:{span:5},lg:{span:5},children:[(0,q.jsx)(x.A,{size:"middle",children:(0,q.jsx)("img",{src:e.currentImageWithPath,alt:"Current img",style:{width:"30px",height:"30px",borderRadius:"3px"}})}),(0,q.jsx)("br",{}),(0,q.jsx)("small",{className:"text-grey-label",children:"Current Image"})]}),(0,q.jsx)(W.A,{span:5,xs:{span:5},sm:{span:8},md:{span:5},lg:{span:5},children:(0,q.jsx)(U.A,{gap:"small",children:(0,q.jsxs)(U.A,{children:[(0,q.jsx)("div",{style:{...i},children:(0,q.jsx)(M.A,{className:"mpl-0",icon:(0,q.jsx)(H.A,{}),label:!1})}),(0,q.jsxs)("div",{className:"margin-left-5px",children:[(0,q.jsx)("b",{children:(null===(t=e.auditBy)||void 0===t?void 0:t.fullName)||""}),(0,q.jsx)("br",{}),(0,q.jsxs)("small",{className:"text-grey-label",children:[(null===(l=e.auditBy)||void 0===l?void 0:l.role)||""," | ",(null===(a=e.auditBy)||void 0===a?void 0:a.domain)||""]})]})]})})}),(0,q.jsx)(W.A,{span:5,xs:{span:5},sm:{span:8},md:{span:5},lg:{span:5},children:(0,q.jsx)(U.A,{gap:"small",children:(0,q.jsxs)(U.A,{children:[(0,q.jsx)("div",{style:{...d},children:(0,q.jsx)(M.A,{className:"mpl-0",icon:(0,q.jsx)(_.h,{}),label:!1})}),(0,q.jsxs)("div",{className:"margin-left-5px",children:[(0,q.jsx)("b",{children:e.plant||""}),(0,q.jsx)("br",{}),(0,q.jsx)("small",{className:"text-grey-label",children:(null===(n=e.auditBy)||void 0===n?void 0:n.city)||""})]})]})})}),e.withCondition?(0,q.jsx)(W.A,{span:4,xs:{span:4},sm:{span:8},md:{span:4},lg:{span:4},children:(0,q.jsx)(U.A,{gap:"small",children:(0,q.jsxs)(U.A,{children:[(0,q.jsx)("div",{style:{...d},children:(0,q.jsx)(M.A,{className:"mpl-0",icon:(0,q.jsx)(G.A,{}),label:!1})}),(0,q.jsxs)("div",{className:"margin-left-5px",children:[(0,q.jsx)("b",{children:"With Condition"}),(0,q.jsx)("br",{}),(0,q.jsx)("small",{className:"text-grey-label",children:"Yes"})]})]})})}):null]})})]},e.id)})):null})})]})})})})};var Q=t(7999),J=t(15327),K=t(10495),$=t(44290),ee=t(83239),se=t(19808),te=t(54957),le=t(87426),ae=t(809);const ne=e=>{const s=(0,Y.wA)(),{RangePicker:t}=u.A,[a,n]=l.useState(!1),[i,r]=l.useState([]),[d,o]=(0,l.useState)(),[m,h]=(0,l.useState)(10),x=(0,Y.d4)((e=>e.AssetData&&e.AssetData.AssetMaintenance)),p=(0,Y.d4)((e=>e.AssetCreationData&&e.AssetData.AssetMaintenance&&e.AssetData.AssetMaintenance.maintenanceAssetCount)),[g,A]=(0,l.useState)(null),[b,j]=(0,l.useState)(null),[y,f]=(0,l.useState)(!1),v=(null===x||void 0===x?void 0:x.maintenanceList)||[],C=async(t,l)=>{f(!0);try{const a=(new AbortController).signal,n=t-1;await s((0,B.Ey)(e.selectedAsset.assetId,g,b,n,l,a))}catch(a){f(!1),console.error("Error fetching data:",a)}finally{f(!1)}},w=v.map(((e,s)=>{let t;return t=0==d?d:void 0==d?0:d-1,{...e,sno:t*m+s+1}}));const I=e=>new Date(e).toISOString().split(".")[0],N=e=>{const s=e.reduce(((e,s)=>{if(null!=s.malfunctionStartDate&&null!=s.malfunctionEndDate){const t=new Date(s.malfunctionStartDate),l=new Date(s.malfunctionEndDate)-t;return l>0?e+l:e}}),0)/36e5,t=Math.floor(s),l=Math.floor(60*(s-t));return"".concat(t," hours, ").concat(l," minutes")},D=[{title:(0,q.jsx)(K.A,{onChange:e=>{const s=e.target.checked;n(s);const t=s?[...v]:[];r(t)},checked:a}),dataIndex:"checkbox",key:"checkbox",render:(e,s)=>(0,q.jsx)(K.A,{onChange:e=>((e,s)=>{const t=[...i];if(e.target.checked)t.push(s);else{const e=t.findIndex((e=>e.id===s.id));-1!==e&&t.splice(e,1)}r(t),n(t.length===v.length)})(e,s),checked:i.some((e=>e.id===s.id))},s.key)},{title:(0,q.jsx)("span",{className:"table-hd-fs",children:"SI.No"}),dataIndex:"sno",key:"sno",sorter:{compare:(e,s)=>e.sno-s.sno,multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,q.jsx)(le.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,q.jsx)(te.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{dataIndex:"assetId",key:"assetId",title:(0,q.jsx)("span",{className:"table-hd-fs",children:"Asset ID"}),sorter:{compare:(e,s)=>e.assetId.localeCompare(s.assetId),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,q.jsx)(le.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,q.jsx)(te.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{title:(0,q.jsx)("span",{className:"table-hd-fs",children:"Plant"}),dataIndex:"plant",key:"plant",sorter:{compare:(e,s)=>e.plant.localeCompare(s.plant),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,q.jsx)(le.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,q.jsx)(te.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})}},{dataIndex:"breakDownDateTime",key:"breakDownDateTime",title:(0,q.jsx)("span",{className:"table-hd-fs",children:"BreakDown Date & Time"}),sorter:{compare:(e,s)=>e.breakDownDateTime.localeCompare(s.breakDownDateTime),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,q.jsx)(le.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,q.jsx)(te.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})},render:(e,s)=>z()(s.breakDownDateTime).format("DD-MM-YYYY HH:mm")},{title:(0,q.jsx)("span",{className:"table-hd-fs",children:"BreakDown Duration"}),dataIndex:"breakDownDuration",key:"breakDownDuration"},{title:(0,q.jsx)("span",{className:"table-hd-fs",children:"Problem"}),dataIndex:"problem",key:"problem"},{title:(0,q.jsx)("span",{className:"table-hd-fs",children:"MalFunction StartDate"}),dataIndex:"malfunctionStartDate",key:"malfunctionStartDate",sorter:{compare:(e,s)=>e.malfunctionStartDate.localeCompare(s.malfunctionStartDate),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,q.jsx)(le.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,q.jsx)(te.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})},render:(e,s)=>z()(s.malfunctionStartDate).format("DD-MM-YYYY HH:mm")},{title:(0,q.jsx)("span",{className:"table-hd-fs",children:"MalFunction EndDate"}),dataIndex:"malfunctionEndDate",key:"malfunctionEndDate",sorter:{compare:(e,s)=>e.malfunctionEndDate.localeCompare(s.malfunctionEndDate),multiple:1},sortDirections:["descend","ascend"],sortIcon:e=>{let{sortOrder:s}=e;return"descend"===s?(0,q.jsx)(le.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}}):(0,q.jsx)(te.A,{sx:{fontSize:"12px",fontWeight:"600",color:"#919eab"}})},render:(e,s)=>z()(s.malfunctionEndDate).format("DD-MM-YYYY HH:mm")}];return l.useEffect((()=>{C(d,m)}),[s,d,m]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(se.A,{maxWidth:"xl",sx:{height:"auto",width:"100%",bgcolor:"#fff",mt:.5,border:"none",mr:0},children:(0,q.jsx)(ee.A,{disableGutters:!0,sx:{height:"50%"},children:(0,q.jsx)(c.Ay,{item:!0,container:!0,spacing:2,columns:16,children:(0,q.jsx)(c.Ay,{item:!0,lg:3,sm:5,children:(0,q.jsx)(t,{style:{height:"40px",width:"100%"},format:"DD-MM-YYYY",onChange:async t=>{if(null!=t){const a=I(t[0]),n=I(t[1]);A(a),j(n),f(!0);try{const t=(new AbortController).signal,l=0,i=10;o(1),await s((0,B.Ey)(e.selectedAsset.assetId,a,n,l,i,t))}catch(l){f(!1),console.error("Error fetching data:",l)}finally{f(!1)}}else{const t=(new AbortController).signal,l=0,a=10;await s((0,B.Ey)(e.selectedAsset.assetId,null,null,l,a,t))}}})})})})}),(0,q.jsx)($.A,{className:"table-hd",columns:D,dataSource:w,pagination:!1,loading:y,showSorterTooltip:!1,footer:()=>(0,q.jsxs)("span",{className:"table-hd-fs",children:["Total BreakDown Duration: ",N(w)]})}),(0,q.jsx)("div",{className:"align-center-data",children:(0,q.jsx)(ae.A,{defaultCurrent:d,total:p,current:d,pageSize:m,onChange:(e,s)=>{o(e),h(s),C(e,s)},hideOnSinglePage:!0})})]})};var ie=t(23652);function re(e){const{children:s,value:t,index:l,...a}=e;return(0,q.jsx)("div",{role:"tabpanel",hidden:t!==l,id:"simple-tabpanel-".concat(l),"aria-labelledby":"simple-tab-".concat(l),...a,children:t===l&&(0,q.jsx)(i.A,{children:s})})}function de(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function oe(e){let{onRowClick:s,selectedData:t,positionGeo:m,selectedCategory:u,selectedAssetType:h,table:p,pageNo:g}=e;const A=(0,Y.wA)(),[b,j]=l.useState(0),[y,f]=l.useState(!1),[v,C]=l.useState(!0),w=()=>{f(!1),C(!0)};return(0,q.jsxs)(r.A,{sx:{width:"100%"},children:[(0,q.jsx)(r.A,{className:"tob-cen",children:(0,q.jsxs)(c.Ay,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,q.jsx)(c.Ay,{item:!0,children:(0,q.jsx)(d.A,{className:"arrow-back",onClick:()=>{const e=(new AbortController).signal;A((0,ie.qO)(u,null,h,g-1,10,!1,"",e)),A((0,B.TX)(p,u,h,"",g-1,10,!1,"")),s()}})}),(0,q.jsx)(c.Ay,{item:!0,children:(0,q.jsxs)(a.A,{value:b,onChange:(e,s)=>{j(s)},"aria-label":"basic tabs example",children:[(0,q.jsx)(n.A,{sx:{fontSize:"12px",color:"#919EAB"},label:"Asset Details",...de(0)}),(0,q.jsx)(n.A,{sx:{fontSize:"12px",color:"#919EAB"},label:"Audit Log Details",...de(1)}),(0,q.jsx)(n.A,{sx:{fontSize:"12px",color:"#919EAB"},label:"Transfer Details",...de(2)}),(0,q.jsx)(n.A,{sx:{fontSize:"12px",color:"#919EAB"},label:"Maintenance Details",...de(3)})]})}),(0,q.jsx)(c.Ay,{item:!0,children:0===b&&(0,q.jsx)(c.Ay,{sx:{fontSize:"12px",color:"#919EAB"},children:y?(0,q.jsx)(l.Fragment,{children:(0,q.jsx)(x.A,{children:(0,q.jsx)(o.A,{variant:"text",sx:{color:"#919EAB"},onClick:w,children:(0,q.jsx)(i.A,{children:"Cancel"})})})}):(0,q.jsx)(l.Fragment,{children:(0,q.jsx)(o.A,{variant:"text",sx:{color:"#919EAB"},onClick:()=>{f(!0),C(!1)},children:(0,q.jsxs)(i.A,{children:[(0,q.jsx)(Q.A,{sx:{fontSize:"14px",color:"#919EAB"}})," Edit"]})})})})})]})}),(0,q.jsx)(re,{value:b,index:0,sx:{width:"0px"},children:(0,q.jsx)(R,{selectedAsset:t,geoLocation:m,editAble:v,handleViewAction:w,selectedCategory:u,selectedAssetType:h,tableRefresh:p})}),(0,q.jsx)(re,{value:b,index:1,children:(0,q.jsx)(X,{selectedAsset:t.id,AssetId:t.assetId})}),(0,q.jsx)(re,{value:b,index:2,children:(0,q.jsx)(J.A,{selectedAsset:t})}),(0,q.jsx)(re,{value:b,index:3,children:(0,q.jsx)(ne,{selectedAsset:t})})]})}}}]);